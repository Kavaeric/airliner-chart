/* AirlinerChart.module.css */

.chartControls {
	
}

/* ChartContainer Component
 * 
 * A container for the chart, which handles the layout of the chart and its components.
 * 3x3 grid layout for chart components:
 * ┌─────────────┬─────────────┬─────────────┐
 * │ Y Brush     │ Y Axis      │ Chart Area  │
 * ├─────────────┼─────────────┼─────────────┤
 * │ empty       │ empty       │ X Axis      │
 * ├─────────────┼─────────────┼─────────────┤
 * │ empty       │ empty       │ X Brush     │
 * └─────────────┴─────────────┴─────────────┘
 */
.chartContainer {
	position: relative;
	display: grid;
	grid-template-areas:
		"yAxis chartArea"
		"empty1 xAxis";

	/* Explicit minmax values are needed to ensure the SVG chart can shrink
	   because SVG sure is weird like that */
	grid-template-rows:
		minmax(0, auto)
		minmax(0, var(--space-600));
	grid-template-columns:
		minmax(0, var(--space-600))
		minmax(0, auto);
	width: 100%;
	height: 100%;
	min-height: 0; /* Allows flex child to shrink */
}

@media (pointer: fine) {
	.chartContainer {
		grid-template-areas:
			"yBrush yAxis chartArea"
			"empty1 empty1 xAxis"
			"empty1 empty1 xBrush";
		grid-template-rows:
			minmax(0, auto)
			minmax(0, var(--space-600))
			minmax(0, var(--interactive-min-size));
		grid-template-columns:
			minmax(0, var(--interactive-min-size))
			minmax(0, var(--space-600))
			minmax(0, auto);
	}
}

.mobile-hidden {
	display: none;
}

@media (width >= 768px) {
	.mobile-hidden {
		display: inherit;
	}
}

.empty1 {
	grid-area: empty1;
	border-top: var(--border-weight-100) solid var(--border-minor);
	border-right: var(--border-weight-100) solid var(--border-minor);
}

.chartArea {
	position: relative; /* For proper layering */
	background-color: var(--surface-major);
	z-index: 1; /* Ensure chart appears above axis labels */
	grid-area: chartArea;
	width: 100%;
	height: 100%;
	min-height: 0; /* Critical: allows grid item to shrink */
	overflow: hidden; /* Prevent content from expanding beyond bounds */
	touch-action: none; /* Prevent browser gestures for proper pinch zoom */
	
	/* === Browser Interaction Feedback Suppression === */
	/* Suppress Chrome desktop white outline on focus */
	outline: none;
	
	/* Suppress Chrome mobile blue tap highlight */
	-webkit-tap-highlight-color: transparent;
	
	/* Prevent text selection during interactions */
	user-select: none;
	-webkit-user-select: none; /* Safari/Chrome */
	-moz-user-select: none; /* Firefox */
	-ms-user-select: none; /* IE/Edge */
	
	/* Suppress any default browser styling */
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

/* Y-axis grid area */
.yAxis {
	grid-area: yAxis;
	border-right: var(--border-weight-100) solid var(--border-minor);
}

/* X-axis grid area */
.xAxis {
	grid-area: xAxis;
	border-top: var(--border-weight-100) solid var(--border-minor);
}

/* Chart Axes Styling (inlined from ChartAxes.module.css) */

/* Base axis styling */
.xAxis, .yAxis {
	/* Nothing yet */
}

.axisLine {
	stroke-width: 0;
}

.axisLabelX,
.axisLabelY {
	font-family: var(--font-family-display);
	font-size: var(--text-size-350);
	font-weight: var(--font-weight-regular);
	text-transform: uppercase;
	letter-spacing: var(--text-tracking-800);
	fill: var(--text-minor);
}

.axisLabelX {
	dominant-baseline: baseline;
	transform: translateY(var(--space-negative-150));
}

.axisLabelY {
	dominant-baseline: hanging;
	writing-mode: sideways-lr;
	transform: translateX(var(--space-050));
}

.xAxis .tick line,
.yAxis .tick line {
	stroke-width: 0;
}

/* Axis tick number labels */
.xAxis .tick text,
.yAxis .tick text {
	font-family: var(--font-family-display);
	font-size: var(--text-size-200);
	font-weight: var(--font-weight-regular);
	letter-spacing: var(--text-tracking-400);
	fill: var(--text-minor);
}

.xAxis .tick text {
	text-anchor: middle;
	transform: translateY(var(--space-negative-050));
}

.yAxis .tick text {
	text-anchor: end;
	transform: translateX(var(--space-050));
}

.xAxisBrush {
	grid-area: xBrush;
}

.yAxisBrush {
	grid-area: yBrush;
}

.xAxisBrush,
.yAxisBrush {
	display: none;
}

@media (pointer: fine) {
	.xAxisBrush,
	.yAxisBrush {
	display: block;
}

}

.xAxisBrush .airlinerBrushControl {
	cursor: ew-resize;
}

.yAxisBrush .airlinerBrushControl {
	cursor: ns-resize;
}

/* ===== Airliner Brush Control Area Styling ===== */

/* Background styling for brush areas */
.airlinerBrushBackground {
	opacity: 1;
	fill: transparent;
	transition: fill 0.1s linear;
}

/* Limit line styling for passenger capacity limits */
.airlinerBrushLimitLine {
	opacity: 1;
	stroke: var(--interactive-diminished);
	stroke-width: 1;
}

/* Passenger class range styling */
.airlinerBrushPaxClassRange {
	opacity: 1;
	fill: var(--interactive-diminished);
}

.airlinerBrushRangeKM {
	opacity: 1;
	stroke: var(--interactive-diminished);
	stroke-width: 1;
}

/* --- Brush Backgrounds --- */

.airlinerBrushControl .airlinerBrushBackground {
	fill: var(--surface-minor) !important;
}

.airlinerBrushControl:hover .airlinerBrushBackground {
	fill: var(--surface-diminished) !important;
}

/* --- Brush Borders --- */
.xAxisBrush .brushBorder,
.yAxisBrush .brushBorder {
	fill: var(--border-minor);
}

.xAxisBrush .brushBorder {
	height: var(--border-weight-100);
	transition: height 0.1s linear, opacity 0.1s linear;
}

.yAxisBrush .brushBorder {
	width: var(--border-weight-100);
	transform: translateX(var(--space-negative-025)); /* SVG positioning works in mysterious ways */
	transition: width 0.1s linear, transform 0.1s linear, opacity 0.1s linear;
}

.xAxisBrush:hover .brushBorder {
	height: var(--space-100);
}

.yAxisBrush:hover .brushBorder {
	width: var(--space-100);
	transform: translateX(var(--space-negative-100));
}

/**
 * Fade-in animation for selected airliner highlight on X axis.
 * Used for visual emphasis when selection changes.
 */
 @keyframes airliner-fade-in {
	0% {
		opacity: 0;
	}

	100% {
		opacity: var(--opacity-100);
	}
}

.xAxisBrush .selectedAirlinerXHighlight {
	fill: var(--interactive-minor);
	animation: flash-twice 0.5s ease-in-out;
}

.yAxisBrush .selectedAirlinerYHighlight {
	animation: flash-twice 0.5s ease-in-out;
}

.airlinerBrushControl .brushBorder {
	opacity: var(--opacity-100);
	fill: var(--interactive-augmented);
}

.airlinerBrushControl:hover .brushBorder {
	opacity: var(--opacity-100);
	fill: var(--interactive-augmented-active);
}

/* --- Limit Lines --- */
.airlinerBrushControl .airlinerBrushLimitLine {
	opacity: var(--opacity-100);
	stroke: var(--interactive-augmented);
	stroke-width: var(--border-weight-100);
}

/* --- Passenger Class Range --- */
.airlinerBrushControl .airlinerBrushPaxClassRange {
	opacity: var(--opacity-50);
	fill: var(--interactive-augmented);
}

.airlinerBrushControl:hover .airlinerBrushPaxClassRange {
	fill: var(--interactive-augmented-active);
}

.airlinerBrushControl .selectedAirlinerXHighlight {
	opacity: var(--opacity-100);
	fill: var(--interactive-major);
}

/* --- Range Line --- */
.airlinerBrushControl .airlinerBrushRangeKM {
	opacity: var(--opacity-100);
	stroke: var(--interactive-augmented);
	stroke-width: var(--border-weight-100);
}

.airlinerBrushControl:hover .airlinerBrushRangeKM {
	stroke: var(--interactive-augmented-active);
}

.airlinerBrushControl .selectedAirlinerYHighlight {
	opacity: var(--opacity-100);
	stroke: var(--interactive-major);
	stroke-width: 2;
}

/* ===== AirlinerScatterPlot Component Styling ===== */

/* Grid styling */
.gridLine line {
	stroke: var(--border-diminished);
	stroke-width: var(--border-weight-100);
	shape-rendering: geometricprecision;
}

.gridIntersectionDot {
	pointer-events: none;
	fill: var(--border-diminished);
	shape-rendering: geometricprecision;
}

/* Connecting line styling */
.markerConnectingLineMinor {
	opacity: var(--opacity-50);
	stroke: var(--surface-diminished);
	stroke-linecap: butt;
	shape-rendering: geometricprecision;
	transition: all 0.2s ease-in-out;
}

.markerConnectingLineMajor {
	cursor: pointer;
	fill: var(--interactive-augmented);
	stroke: rgb(0 0 0 / 20%);
	stroke-width: 1;
	shape-rendering: geometricprecision;
	transition: all 0.1s ease-in-out;
}

.markerLeader {
	stroke: var(--border-major);
	stroke-width: 1;
	stroke-linecap: butt;
	shape-rendering: geometricprecision;
	transition: stroke 0.1s ease-in-out, stroke-width 0.1s ease-in-out;
}

.markerLeader.hoveredAirliner {
	stroke: var(--interactive-diminished);
}

.markerLeader.selectedAirliner {
	stroke: var(--interactive-minor);
	stroke-width: 2;
}

/* ===== AirlinerScatterMarker Component Styling ===== */

/* Diamond marker style */
.markerDiamond {
	pointer-events: none;
	opacity: 1;
	fill: var(--interactive-augmented);
	shape-rendering: geometricprecision;
	transition: all 0.1s ease-in-out;
}

/* Short line used as a marker */
.markerLine {
	opacity: var(--opacity-100);
	stroke: var(--border-minor);
	stroke-width: var(--border-weight-200);
	stroke-linecap: butt;
	shape-rendering: geometricprecision;
}

.markerLine.hoveredAirliner {
	stroke: var(--interactive-diminished);
}

.markerLine.selectedAirliner {
	stroke: var(--interactive-minor);
}

/* ===== AirlinerScatterLabel Component Styling ===== */

/* ===== Label styling ===== */
.airlinerLabelInterrupt ,
.airlinerLabel {
	font-family: var(--font-family-display);
	font-size: var(--text-size-350);
	font-weight: var(--font-weight-regular);
	letter-spacing: var(--text-tracking-800);
	cursor: pointer;
	transition: all 0.1s ease-in-out;
}

.airlinerLabel {
	fill: var(--text-minor);
}

.airlinerLabelInterrupt {
	opacity: var(--opacity-30);
	fill: none;
	stroke: var(--surface-major);
	stroke-width: var(--space-200);
	stroke-linejoin: round;
	stroke-miterlimit: 1.5;
}

.airlinerLabel.hoveredAirliner {
	fill: var(--text-major);
}

.airlinerLabel.selectedAirliner {
	font-weight: var(--font-weight-bold);
	fill: var(--text-major);
}


/* ===== Interactive State ===== */

.markerConnectingLineMajor.hoveredAirliner {
	fill: var(--interactive-augmented-hover);
}

.markerConnectingLineMajor.selectedAirliner {
	fill: var(--interactive-major);
}

.markerConnectingLineMinor.selectedAirliner {
	stroke: var(--highlight-active-minor);
}

.markerDiamond.hoveredAirliner {
	fill: var(--interactive-major);
	stroke: var(--interactive-augmented-hover);
}

.markerDiamond.selectedAirliner {
	fill: var(--surface-major);
	stroke: var(--interactive-major);
	stroke-width: 1;
}


/* ===== Active Airliner Grid Lines ===== */

.airlinerGridLine {
	pointer-events: none;
	stroke-width: var(--border-weight-100);
	shape-rendering: geometricprecision;
}
  
/* Type-specific styles */
.airlinerGridLineVertical {
/* Vertical line specific styles */
}

.airlinerGridLineHorizontal {
/* Horizontal line specific styles */
}

.airlinerGridLineHovered {
	stroke: var(--highlight-hover-diminished);
}

.airlinerGridLineSelected {
	stroke: var(--highlight-active-diminished);
}

.airlinerSelectionCapacityHighlight {
	opacity: 0.1;
	fill: var(--highlight-hover-diminished);
}


/* ===== Active Airliner Y-Axis Styling ===== */

.yAxisReadout {
	transition: all 0.05s linear;
}

.yAxisReadoutLine,
.xAxisReadoutLine {
	stroke: var(--border-minor);
	stroke-width: var(--border-weight-100);
}

/* Hide axis readouts on touch devices for clarity */
@media (pointer: coarse) {
	.yAxisReadout,
	.yAxisReadoutLine,
	.xAxisReadoutLine {
		transition: all 0.1s ease-in-out;
		opacity: 0;
	}
}

.yAxisReadout.hoveredAirliner,
.yAxisReadout.selectedAirliner {
	opacity: 1;
}

.yAxisReadoutBox {
	fill: var(--surface-minor);
	stroke: var(--border-minor);
	stroke-width: var(--border-weight-100);
	transition: all 0.1s linear;
}

.yAxisReadoutBox.hoveredAirliner {
	stroke: var(--border-major);
}

.yAxisReadoutBox.selectedAirliner {
	fill: var(--interactive-major);
}

.yAxisReadoutText {
	font-family: var(--font-family-display);
	font-size: var(--text-size-300);
	font-weight: var(--font-weight-medium);
	text-transform: uppercase;
	letter-spacing: var(--text-tracking-800);
	fill: var(--text-minor);
	transform: translateX(var(--space-negative-050));
	transition: all 0.1s linear;
}

.yAxisReadoutText.hoveredAirliner {
	fill: var(--text-major);
}

.yAxisReadoutText.selectedAirliner {
	font-weight: var(--font-weight-bold);
	fill: var(--interactive-major-inverse);
}

